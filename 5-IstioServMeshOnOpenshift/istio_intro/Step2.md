# 第二步
###### 快捷链接
[返回场景综述](../istio_intro.md) <br>
[上一步](Step1.md) <br>
[下一步](Step3.md) <br>

#### 操作过程
[本场景没有操作步骤只有 Istio 基础构成解释](#Istio构成) <br>

#### Istio构成

Istio服务网格在逻辑上分为数据平面和控制平面。
   - 数据平面由部署为边车的一组智能代理（Envoy）组成。这些代理与通用策略和遥测集线器Mixer一起协调和控制微服务之间的所有网络通信。
   - 控制平面管理和配置代理以路由流量。此外，控制平面将混合器配置为执行策略并收集遥测。

Istio组件包括
Envoy 使者：
   Envoy是使用 C++ 开发的高性能代理，可为服务网格中的所有服务调解所有入站和出站流量。 Istio利用Envoy的许多内置功能，例如：
   - 动态服务发现
   - 负载均衡
   - TLS终止
   - HTTP / 2和gRPC代理
   - 断路器
   - 健康检查
   - 分阶段推出，按百分比分配流量
   - 故障注入
   - 丰富的指标
   Envoy 被部署为同一Kubernetes容器中相关服务的 sidecar。此部署使 Istio 可以提取有关流量行为的大量信号作为属性。 Istio 可以依次在 Mixer 中使用这些属性来实施策略决策，并将其发送给监视系统以提供有关整个网格行为的信息。

Mixer 混合器：
   Mixer 是独立于平台的组件。 Mixer跨服务网格实施访问控制和使用策略，并从 Envoy 代理和其他服务收集遥测数据。代理提取请求级别属性，并将其发送到Mixer进行评估。
   Mixer 包括灵活的插件模型。该模型使 Istio 可以与各种主机环境和基础架构后端进行交互。因此，Istio 从这些细节中提取了Envoy 代理和 Istio 管理的服务。

Pilot 飞行员：
   Pilot 提供了 Envoy Sidecar 的服务发现，智能路由的流量管理功能（例如 A/B 测试，金丝雀部署等）以及弹性（超时，重试，断路器等）。
   Pilot 将控制交通行为的高级路由规则转换为 Envoy 特定的配置，并在运行时将其传播到 SideCar。 Pilot提取了特定于平台的服务发现机制，并将它们合成为标准格式，任何符合Envoy数据平面 API 的 Sidecar 都可以使用。这种松散的耦合使 Istio可以在 Kubernetes，Consul 或 Nomad 等多种环境中运行，同时保持用于流量管理的相同操作员界面。

Citadel 堡垒
   Citadel 通过内置的身份和凭证管理功能提供了强大的服务到服务和最终用户身份验证。您可以使用 Citadel 升级服务网格中的未加密流量。使用 Citadel ，操作者可以根据服务身份而非网络控制来实施策略。


[回到顶部](#第二步) <br>
[上一步骤](Step1.md) <br>
[下一步骤](Step3.md) <br>